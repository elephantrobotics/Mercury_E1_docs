# 5.1 系统使用说明

## 1 系统概述

myCobot Pro 450 机器人控制系统是一个功能强大、操作直观的机器人软件平台，旨在帮助用户轻松进行机器人编程、控制和监控。无论您是工程师、教师还是操作员，都可以通过该系统快速上手，实现机器人的各种自动化任务。

系统主要由以下部分组成：

- **myStudio Pro（WebApp）**：一个基于浏览器的可视化编程与控制界面，支持远程操作和高级功能开发。
- **MiniRobot（本地控制界面）**：一个简洁的本地操作面板，适合现场快速控制与示教。
- **网络控制系统**：支持多网络接口（LAN1、LAN2、WLAN）的安全控制架构，确保控制流与互联网流量隔离。
- **串行通信接口**：支持 RS485 等工业通信协议，方便连接外部设备如 PLC 或传感器。

---

## 2 MiniRobot 介绍

MiniRobot是设计的本地控制界面，就像机器人的“遥控器”。4个按钮+小屏幕，操作简单，无需电脑，离线也能用。

### 主要功能：

- **本地轨迹录制**：通过按钮或手动引导机器人记录运动路径，精度可达 ±0.1mm。
- **简化文件管理**：删除或直接执行已保存的程序文件。
- **快速执行控制**：支持单次或循环执行模式，提供进度显示，紧急停止响应快。
- **状态查询**：实时查看机器人位置、速度、负载等状态信息。
- **基础配置**：支持速度设置、安全参数调整和零位校准。
- **通信转发**：支持 UART/SPI 数据中继，方便与本地设备交互。

> 特点：操作简单、响应快、支持离线使用，适合现场快速调试与示教。

---

## 3 myStudio Pro 介绍

myStudio Pro 是一个功能丰富的网页端控制平台，适合进行深度开发和远程管理。

### 主要功能：

- **图形化编程（Blockly）**：通过拖拽代码块快速编写机器人程序，支持运动控制、逻辑判断和传感器交互。
- **虚拟轨迹规划与拖动示教**：在 3D 仿真环境中规划路径，支持手动拖动记录轨迹，预览运动效果。
- **文件管理**：远程上传、下载、管理程序和轨迹文件，支持分类浏览和回收站功能。
- **执行监控**：实时查看机器人执行状态，支持开始、暂停、停止等控制操作。
- **固件更新与教程集成**：一键检查并更新系统固件，内置视频教程和操作指南。
- **网络配置集成**：通过界面管理网络权限，支持白名单和权限开关设置。

> 特点：功能全面、可视化强、适合远程协作与复杂任务开发。

---

## 4 网络端口介绍

系统支持三个网络接口，分别用于不同的用途，确保控制安全与网络灵活。

- **LAN1（控制网络）**：
  - 用途：专用于机器人控制指令传输。
  - 特点：静态 IP 配置，不连接互联网，确保控制实时性与安全性。
  - 适用场景：本地高实时控制，如运动指令、传感器数据广播。

- **LAN2（有线互联网接口）**：
  - 用途：连接互联网，用于远程访问、软件更新等。
  - 特点：支持 DHCP 自动获取 IP，可手动配置静态 IP。
  - 适用场景：远程调试、固件升级、云服务接入。

- **WLAN（无线网络接口）**：
  - 用途：无线连接互联网，功能同 LAN2。
  - 特点：支持 Wi-Fi 连接，适合移动设备接入。
  - 适用场景：移动端控制、临时网络接入。

> 安全提示：系统默认仅允许通过 LAN1 进行控制，LAN2/WLAN 的控制功能需手动开启并配置认证，确保操作安全。

### 端口配置表

| 端口号 | 协议 | 功能 | 实时性 | 默认网络 |
|--------|------|------|--------|----------|
| 8000 | TCP | 主控制指令 | 高实时 | 仅LAN1 |
| 8001 | UDP | 100ms位置广播 | 中实时 | 仅LAN1 |
| 8002 | UDP | 10ms位置广播 | 超高实时 | 仅LAN1 |
| 8100 | WebSocket | Web控制 | 中实时 | 仅LAN1 |
| 9000 | TCP | Modbus控制 | 高实时 | 仅LAN1 |
| 8080 | HTTP | 管理界面 | 低实时 | 全部网络 |

### 安全机制

#### 1. 权限开关控制
- LAN2和WLAN的远程控制可以单独开关
- 默认状态：两个都关闭（最安全）
- 开启后：控制端口同时绑定到相应网络

#### 2. 关键保护措施
- **广播端口锁定**：8001、8002端口永远只在LAN1使用
- **强制认证**：远程访问必须登录账号
- **IP白名单**：只允许信任的设备连接

### 网络配置建议

| 使用场景 | 推荐配置 | 优势 |
|----------|----------|------|
| **生产环境** | LAN1控制 + LAN2监控 | 控制安全，可远程查看 |
| **调试环境** | LAN1控制 + WLAN调试 | 移动设备灵活连接 |
| **教育环境** | LAN1控制 + LAN2上网 | 学生编程，老师监控 |
| **演示环境** | 开启所有网络权限 | 方便展示和操作 |

---

## 5 串行端口介绍

系统内置一个 **RS485 工业串行通信接口**，主要用于连接 PLC、传感器、变频器等外部工业设备，实现稳定、可靠的数据交换与指令控制。

该接口基于 **Modbus 协议**（工业领域广泛应用的标准通信协议），允许通过简单的读写指令，实现对机器人的状态监控、运动控制与参数设置。

### 主要用途：
- **读取机器人状态**：如关节角度、末端坐标、运动模式、IO 状态等。
- **发送控制指令**：控制机器人运动、启停、模式切换等。
- **连接外部设备**：与 PLC、触摸屏、传感器等工业设备对接，构建自动化系统。

### 典型使用场景：
- 产线中由 PLC 统一调度机械臂动作
- 与视觉传感器联动，实现定位抓取
- 在无网络环境下通过串口进行本地控制

### 通信配置建议：
- **波特率**：115200（默认，兼容多数设备）
- **协议**：Modbus RTU
- **工具**：可使用 Modbus 调试助手、SSCOM 等常用串口工具进行测试

> **提示**：使用前请确认外部设备支持 Modbus 协议，并设置好对应的从站地址（默认为 45）与寄存器地址，具体可参考协议手册中的功能列表。

---

[← 上一章](./README.md) | [下一章 →](./5.2-minirobot/README.md)